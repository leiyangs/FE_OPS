# 用户&用户组

- 使用操作系统的人都是用户
- 用户组是具有相同系统权限的一组用户

## 1. 配置文件

### 1.1 /etc/group

- `/etc/group` 存储当前系统中所有用户组信息
- `group:x:123:abc,def`
- 组名称:组密码占位符:组编号:组中用户名列表
- root 组编号为 0
- 1-499 系统预留的编号 预留给安装的软件和服务的
- 用户手动创建的用户组从 500 开始
- 组密码占位符都是 `x`
- 如果组内只有一个用户，而且用户名和组名相同的话，是可以省略用户名的

```bash
cat /etc/group
```

`root:x:0:root`

| 代码 | 概念           |
| ---- | -------------- |
| root | 组的名称       |
| x    | 密码占位符     |
| 0    | 组编号         |
| root | 组中用户名列表 |

### 1.2 /etc/gshadow

- 存放当前系统中用户组的密码信息
- 和`/etc/group`中的记录一一对应

```bash
cat /etc/gshadow
```

`root:*::root`

| 代码 | 概念                              |
| ---- | --------------------------------- |
| root | 组的名称                          |
| \*   | 组密码，\*为空                    |
|      | 组管理者,为空表示都可以管理这个组 |
| root | 组中用户名列表                    |

### 1.3 /etc/passwd

- 存储当前系统中所有用户的信息

```bash
cat /etc/passwd
```

`root:x:0:0:root:/root:/bin/bash`

| 代码      | 概念         |
| --------- | ------------ |
| root      | 用户名       |
| x         | 密码占位符   |
| 0         | 用户编号     |
| 0         | 用户组编号   |
| root      | 用户注释信息 |
| /root     | 用户主目录   |
| /bin/bash | shell 类型   |

### 1.4 /etc/shadow

- 存放当前系统中所有用户的密码信息
- user:xxx:::::::
- 用户名:密码:

```bash
cat /etc/shadow
```

`root:password:17982:0:99999:7:::`

| 代码     | 概念                                                                                                                                         |
| -------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| root     | 用户名                                                                                                                                       |
| password | 单向加密后的密码                                                                                                                             |
| 17982    | 修改日期,这个是表明上一次修改密码的日期与 1970-1-1 相距的天数密码不可改的天数：假如这个数字是 8，则 8 天内不可改密码，如果是 0，则随时可以改 |
| 0        | 这个是表明上一次修改密码的日期与 1970-1-1 相距的天数密码不可改的天数：假如这个数字是 8，则 8 天内不可改密码，如果是 0，则随时可以改          |
| 99999    | 如果是 99999 则永远不用改。如果是其其他数字比如 12345，那么必须在距离 1970-1-1 的 12345 天内修改密码，否则密码失效                           |
| 7        | 修改期限前 N 天发出警告                                                                                                                      |
|          | 密码过期的宽限天数                                                                                                                           |
|          | 帐号失效日期                                                                                                                                 |
|          | 保留：被保留项，暂时还没有被用上                                                                                                             |
