# vi 编辑器

- VI visual interface 可视化接口
- 可视化接口
- 类似与 windows 中的记事本
- vim 是 vi 编辑器的升级版，支持多级撤销
- 跨平台
- 语法高亮
- 支持图形界面

## 1. 操作模式

| 模式                                | 作用                     | 使用                   |
| ----------------------------------- | ------------------------ | ---------------------- |
| Command Mode 命令模式               | 等待输入的模式           | Esc 键                 |
| Insert Mode 输入模式                | 编辑模式，用于输入文本   | a i o s 键(命令模式下) |
| Last Line Mode 底行模式(尾行、末行) | 可以输入指令，搜索，保存 | :键(命令模式下)        |

- a 当前位置后写入
- A 在当前光标右的行末插入文件
- i 当前位置写入
- o 换行写入
- O 在光标所在行的上方插入一行并切换到输入模式
- s 删除当前位置写入
- r 替换当前位置字符
- x 删除当前字符
- dd 删除光标所在行
- u 撤消最后执行的一次命令
- yy 复制光标所在的行
- p 在光标所在行的下方粘贴
- P 在光标所在行的上方粘贴

```bash
touch 1.txt
vi 1.txt
i
:wq
```

## 2. 打开文件

- 输入 `vi 文件名` 可输入多个文件名，利用`:n` `:N`切换修改
- vimtutor (官方教程)

## 3. 底行模式

- `:w` 保存
- `:q` 退出
- `:!` 强制保存
- `:ls` 列出所有的文件
- `:n` 下一个
- `:N` 上一个
- `:10` 跳转到指定行
- `/xxx` 从光标位置开始向后搜索 xxx 字符串。搜索后，n 查找下一个，Shift-N 查找上一个
- `?xxx` 从光标位置开始向前搜索
- `:s/old/new` 把光标所在行的 old 替换成 new
- `:%s/old/new/g` 把所有行的 old 替换成 new

## 4. 命令模式

### 4.1 光标

| 命令 | 作用     |
| ---- | -------- |
| h    | 光标左移 |
| j    | 光标下移 |
| k    | 光标上移 |
| l    | 光标右移 |

### 4.2 翻页

| 命令   | 作用       |
| ------ | ---------- |
| ctrl+f | 向下翻页   |
| ctrl+b | 向上翻页   |
| ctrl+d | 向下翻半页 |
| ctrl+u | 向上翻半页 |
