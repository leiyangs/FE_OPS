<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>什么是 shell？ | 前端运维</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="https://vuejs.org/images/logo.png">
    <meta name="description" content="linux、nginx、docker、持续集成、k8s">
    
    <link rel="preload" href="/FE_OPS/assets/css/0.styles.96cbe1f0.css" as="style"><link rel="preload" href="/FE_OPS/assets/js/app.13330be1.js" as="script"><link rel="preload" href="/FE_OPS/assets/js/2.caa8c1e8.js" as="script"><link rel="preload" href="/FE_OPS/assets/js/16.51bd5318.js" as="script"><link rel="prefetch" href="/FE_OPS/assets/js/10.d3c55940.js"><link rel="prefetch" href="/FE_OPS/assets/js/11.abe84326.js"><link rel="prefetch" href="/FE_OPS/assets/js/12.863e375b.js"><link rel="prefetch" href="/FE_OPS/assets/js/13.b221c1bd.js"><link rel="prefetch" href="/FE_OPS/assets/js/14.5f421522.js"><link rel="prefetch" href="/FE_OPS/assets/js/15.906a9cd3.js"><link rel="prefetch" href="/FE_OPS/assets/js/17.f2b636c0.js"><link rel="prefetch" href="/FE_OPS/assets/js/18.b0f1786a.js"><link rel="prefetch" href="/FE_OPS/assets/js/19.311adcd5.js"><link rel="prefetch" href="/FE_OPS/assets/js/3.9142a925.js"><link rel="prefetch" href="/FE_OPS/assets/js/4.34afba24.js"><link rel="prefetch" href="/FE_OPS/assets/js/5.78c91f8f.js"><link rel="prefetch" href="/FE_OPS/assets/js/6.6e695438.js"><link rel="prefetch" href="/FE_OPS/assets/js/7.f4a825db.js"><link rel="prefetch" href="/FE_OPS/assets/js/8.5a83bb4a.js"><link rel="prefetch" href="/FE_OPS/assets/js/9.6cc27307.js">
    <link rel="stylesheet" href="/FE_OPS/assets/css/0.styles.96cbe1f0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/FE_OPS/" class="home-link router-link-active"><img src="https://vuejs.org/images/logo.png" alt="前端运维" class="logo"> <span class="site-name can-hide">前端运维</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/FE_OPS/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/FE_OPS/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://github.com/leiyangs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/FE_OPS/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/FE_OPS/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://github.com/leiyangs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE_OPS/linux/concept/" class="sidebar-link">一、linux概念</a></li><li><a href="/FE_OPS/linux/command/" class="sidebar-link">二、linux命令</a></li><li><a href="/FE_OPS/linux/vi/" class="sidebar-link">三、vi编辑器</a></li><li><a href="/FE_OPS/linux/user/" class="sidebar-link">四、用户&amp;用户组</a></li><li><a href="/FE_OPS/linux/authorization/" class="sidebar-link">五、文件权限</a></li><li><a href="/FE_OPS/linux/shell/" aria-current="page" class="active sidebar-link">六、shell</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-基本用法" class="sidebar-link">1. 基本用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-1-echo" class="sidebar-link">1.1 echo</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-2-编写执行-shell" class="sidebar-link">1.2 编写执行 shell</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-3-别名" class="sidebar-link">1.3 别名</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-4-命令的生效顺序" class="sidebar-link">1.4 命令的生效顺序</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-5-命令快捷键" class="sidebar-link">1.5 命令快捷键</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-6-历史命令" class="sidebar-link">1.6 历史命令</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-7-调用历史命令" class="sidebar-link">1.7 调用历史命令</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-8-输出重定向" class="sidebar-link">1.8 输出重定向</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-8-1-标准输出设备" class="sidebar-link" style="padding-left:3rem;">1.8.1 标准输出设备</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-8-2-输入重定向" class="sidebar-link" style="padding-left:3rem;">1.8.2 输入重定向</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-9-管道符号" class="sidebar-link">1.9 管道符号</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-9-1-多命令顺序执行" class="sidebar-link" style="padding-left:3rem;">1.9.1 多命令顺序执行</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-9-2-管道符号" class="sidebar-link" style="padding-left:3rem;">1.9.2 管道符号</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-9-3-通配符" class="sidebar-link" style="padding-left:3rem;">1.9.3 通配符</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_1-9-4-其他" class="sidebar-link" style="padding-left:3rem;">1.9.4 其他</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-变量" class="sidebar-link">2. 变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-1-变量的概念" class="sidebar-link">2.1 变量的概念</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-2-变量的分类" class="sidebar-link">2.2 变量的分类</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-3-自定义变量" class="sidebar-link">2.3 自定义变量</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-3-1-定义、输出变量" class="sidebar-link" style="padding-left:3rem;">2.3.1 定义、输出变量</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-3-2-set" class="sidebar-link" style="padding-left:3rem;">2.3.2 set</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-3-3-unset" class="sidebar-link" style="padding-left:3rem;">2.3.3 unset</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-4-环境变量" class="sidebar-link">2.4 环境变量</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-4-1-自定义环境变量" class="sidebar-link" style="padding-left:3rem;">2.4.1 自定义环境变量</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-4-2-env" class="sidebar-link" style="padding-left:3rem;">2.4.2 env</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-4-3-常用环境变量" class="sidebar-link" style="padding-left:3rem;">2.4.3 常用环境变量</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-4-4-path" class="sidebar-link" style="padding-left:3rem;">2.4.4 path</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-4-5-语系环境变量" class="sidebar-link" style="padding-left:3rem;">2.4.5 语系环境变量</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-4-6-中文支持" class="sidebar-link" style="padding-left:3rem;">2.4.6 中文支持</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-5-位置参数变量" class="sidebar-link">2.5 位置参数变量</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-6-预定义变量" class="sidebar-link">2.6 预定义变量</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_2-7-read" class="sidebar-link">2.7 read</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_3-运算符" class="sidebar-link">3. 运算符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_3-1-declare-命令" class="sidebar-link">3.1 declare 命令</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-环境变量配置文件" class="sidebar-link">4.环境变量配置文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-1-source-命令" class="sidebar-link">4.1 source 命令</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-2-环境变量配置文件简介" class="sidebar-link">4.2 环境变量配置文件简介</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-3-环境变量配置文件的功能" class="sidebar-link">4.3 环境变量配置文件的功能</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-3-1-etc-profile" class="sidebar-link" style="padding-left:3rem;">4.3.1 /etc/profile</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-3-2-bash-profile" class="sidebar-link" style="padding-left:3rem;">4.3.2 ~/.bash_profile</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-3-3-bashrc" class="sidebar-link" style="padding-left:3rem;">4.3.3 ~/.bashrc</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-3-4-etc-bashrc" class="sidebar-link" style="padding-left:3rem;">4.3.4 /etc/bashrc</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-3-5-其它配置文件" class="sidebar-link" style="padding-left:3rem;">4.3.5 其它配置文件</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-3-5-1-注销时生效的环境变量配置文件" class="sidebar-link" style="padding-left:4rem;">4.3.5.1 注销时生效的环境变量配置文件</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-3-5-2-脚本历史" class="sidebar-link" style="padding-left:4rem;">4.3.5.2 脚本历史</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_4-3-5-3-shell-登录信息" class="sidebar-link" style="padding-left:4rem;">4.3.5.3 Shell 登录信息</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-正则表达式" class="sidebar-link">5. 正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-1-概念" class="sidebar-link">5.1 概念</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-2-通配符" class="sidebar-link">5.2 通配符</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-3-正则表达式" class="sidebar-link">5.3 正则表达式</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-4-元字符" class="sidebar-link">5.4 元字符</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-5-cut" class="sidebar-link">5.5 cut</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-6-printf" class="sidebar-link">5.6 printf</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-7-awk" class="sidebar-link">5.7 awk</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-7-1-begin-end" class="sidebar-link" style="padding-left:3rem;">5.7.1 begin end</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-7-2-fs" class="sidebar-link" style="padding-left:3rem;">5.7.2 FS</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-7-3-声明变量" class="sidebar-link" style="padding-left:3rem;">5.7.3 声明变量</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-7-4-多条件" class="sidebar-link" style="padding-left:3rem;">5.7.4 多条件</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-7-5-nr" class="sidebar-link" style="padding-left:3rem;">5.7.5 NR</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-7-6-ofs" class="sidebar-link" style="padding-left:3rem;">5.7.6 OFS</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-8-sed-命令" class="sidebar-link">5.8 sed 命令</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-9-排序命令-sort" class="sidebar-link">5.9 排序命令 sort</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_5-10-wc" class="sidebar-link">5.10 wc</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-流程控制" class="sidebar-link">6. 流程控制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-1-条件判断" class="sidebar-link">6.1 条件判断</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-1-1-按照文件类型进行判断" class="sidebar-link" style="padding-left:3rem;">6.1.1 按照文件类型进行判断</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-1-2-按照文件权限进行判断" class="sidebar-link" style="padding-left:3rem;">6.1.2 按照文件权限进行判断</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-1-3-两个文件间的比较" class="sidebar-link" style="padding-left:3rem;">6.1.3 两个文件间的比较</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-1-4-两个整数间的比较" class="sidebar-link" style="padding-left:3rem;">6.1.4 两个整数间的比较</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-1-5-字符串的判断" class="sidebar-link" style="padding-left:3rem;">6.1.5 字符串的判断</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-1-6-多重条件判断" class="sidebar-link" style="padding-left:3rem;">6.1.6 多重条件判断</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-2-单分支-if-语句" class="sidebar-link">6.2 单分支 if 语句</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-2-1-语法" class="sidebar-link" style="padding-left:3rem;">6.2.1 语法</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-2-2-判断当前用户是否是-root-用户" class="sidebar-link" style="padding-left:3rem;">6.2.2 判断当前用户是否是 root 用户</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-3-双分支-if-语句" class="sidebar-link">6.3 双分支 if 语句</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-3-1-语法" class="sidebar-link" style="padding-left:3rem;">6.3.1 语法</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-3-2-判断是否目录" class="sidebar-link" style="padding-left:3rem;">6.3.2 判断是否目录</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-4-多分支-if-语句" class="sidebar-link">6.4 多分支 if 语句</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-4-1-语法" class="sidebar-link" style="padding-left:3rem;">6.4.1 语法</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-5-case-语句" class="sidebar-link">6.5 case 语句</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-5-1-语法" class="sidebar-link" style="padding-left:3rem;">6.5.1 语法</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-6-for-循环" class="sidebar-link">6.6 for 循环</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-6-1-语法" class="sidebar-link" style="padding-left:3rem;">6.6.1 语法</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-7-while-循环" class="sidebar-link">6.7 while 循环</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_6-8-until-循环" class="sidebar-link">6.8 until 循环</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_7-函数" class="sidebar-link">7. 函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_7-1-简单函数" class="sidebar-link">7.1 简单函数</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_7-2-返回值" class="sidebar-link">7.2 返回值</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_7-3-参数说明" class="sidebar-link">7.3 参数说明</a></li></ul></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_8-shell-实战" class="sidebar-link">8. shell 实战</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_8-1-注意事项" class="sidebar-link">8.1 注意事项</a></li><li class="sidebar-sub-header"><a href="/FE_OPS/linux/shell/#_8-2-检查主机存活状态" class="sidebar-link">8.2 检查主机存活状态</a></li></ul></li></ul></li><li><a href="/FE_OPS/linux/install/" class="sidebar-link">七、install</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CICD</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>K8s</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="什么是-shell"><a href="#什么是-shell" class="header-anchor">#</a> 什么是 shell？</h1> <ul><li>shell 是一个命令行解释器，它为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统级程序</li> <li>用户可以用 Shell 来启动、挂起、停止或者编写一些程序</li> <li>Shell 还是一个功能相当强大的编程语言，易编写，易调试，灵活性较强。</li> <li>Shell 是解释执行的脚本语言，在 Shell 中可以直接调用 Linux 系统命令。</li></ul> <h2 id="_1-基本用法"><a href="#_1-基本用法" class="header-anchor">#</a> 1. 基本用法</h2> <h3 id="_1-1-echo"><a href="#_1-1-echo" class="header-anchor">#</a> 1.1 echo</h3> <ul><li>输出命令</li> <li><code>-e</code> 激活转译字符</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> -e <span class="token string">'h\tello'</span>
</code></pre></div><h3 id="_1-2-编写执行-shell"><a href="#_1-2-编写执行-shell" class="header-anchor">#</a> 1.2 编写执行 shell</h3> <p>编写文件，开头需要<code>#!/bin/bash</code>，代表是 shell 脚本</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> <span class="token number">1</span>.sh
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> hello
:wq

<span class="token comment">#执行shell文件</span>
<span class="token function">sh</span> <span class="token number">1</span>.sh
<span class="token comment">#或者</span>
<span class="token function">chmod</span> u+x <span class="token number">1</span>.sh
./1.sh
</code></pre></div><h3 id="_1-3-别名"><a href="#_1-3-别名" class="header-anchor">#</a> 1.3 别名</h3> <ul><li>命令别名就是小名</li> <li>临时生效 <code>alias cp=&quot;cp -i&quot;</code></li> <li>写入环境变量配置文件 <code>vi ~/.bashrc</code></li> <li><code>source ~/.bashrc</code></li> <li>删除别名 <code>unalias 别名</code></li></ul> <h3 id="_1-4-命令的生效顺序"><a href="#_1-4-命令的生效顺序" class="header-anchor">#</a> 1.4 命令的生效顺序</h3> <ul><li>绝对路径或者相对路径</li> <li>别名</li> <li>bash 内部命令</li> <li>按照$PATH 环境变量定义的目录查找顺序找到的第一个命令</li></ul> <h3 id="_1-5-命令快捷键"><a href="#_1-5-命令快捷键" class="header-anchor">#</a> 1.5 命令快捷键</h3> <table><thead><tr><th>命令</th> <th>概念</th></tr></thead> <tbody><tr><td>ctrl+c</td> <td>强制终止当前命令</td></tr> <tr><td>ctrl+l</td> <td>清屏</td></tr> <tr><td>ctrl+a</td> <td>光标移动到命令行首</td></tr> <tr><td>ctrl+e</td> <td>光标移动到命令行尾</td></tr> <tr><td>ctrl+u</td> <td>从光标所在的位置删除到行首</td></tr></tbody></table> <h3 id="_1-6-历史命令"><a href="#_1-6-历史命令" class="header-anchor">#</a> 1.6 历史命令</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#查询history</span>
<span class="token function">history</span>
<span class="token comment">#清空历史</span>
<span class="token function">history</span> -c
<span class="token comment">#写入历史文件~/.bash_history，一般是退出时会自动写入到文件中</span>
<span class="token function">history</span> -w
<span class="token comment">#vi修改</span>
<span class="token function">vi</span> /etc/profile
<span class="token assign-left variable">HISSIZE</span><span class="token operator">=</span><span class="token number">10000</span>
</code></pre></div><ul><li>history [选项][历史命令保存文件]</li> <li>选项
<ul><li>-c 清空历史命令</li> <li>-w 把缓存中的历史命令写入历史命令保存文件 ~/.bash_history</li></ul></li> <li>默认保存 1000 条 <code>/etc/profile</code> <code>HISSIZE=10000</code></li></ul> <h3 id="_1-7-调用历史命令"><a href="#_1-7-调用历史命令" class="header-anchor">#</a> 1.7 调用历史命令</h3> <ul><li>使用上下箭头调用以前的历史命令</li> <li>使用 !n 重复执行第 n 条历史命令</li> <li>使用 !! 重复执行上一条命令</li> <li>使用 !字符 重复执行最后一条以该字符串开头的命令</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">!</span><span class="token number">3</span>
<span class="token operator">!</span><span class="token operator">!</span>
<span class="token operator">!</span>his
</code></pre></div><h3 id="_1-8-输出重定向"><a href="#_1-8-输出重定向" class="header-anchor">#</a> 1.8 输出重定向</h3> <h4 id="_1-8-1-标准输出设备"><a href="#_1-8-1-标准输出设备" class="header-anchor">#</a> 1.8.1 标准输出设备</h4> <table><thead><tr><th>设备</th> <th>设备文件</th> <th>文件描述符</th> <th>类型</th></tr></thead> <tbody><tr><td>键盘</td> <td>/dev/stdin</td> <td>0</td> <td>标准输入</td></tr> <tr><td>显示器</td> <td>/dev/stdout</td> <td>1</td> <td>标准输出</td></tr> <tr><td>显示器</td> <td>/dev/stderr</td> <td>2</td> <td>标准错误输出</td></tr></tbody></table> <table><thead><tr><th>类型</th> <th>符号</th> <th>作用</th></tr></thead> <tbody><tr><td>标准输出重定向</td> <td>命令 &gt; 文件</td> <td>以覆盖的方式，把命令的正确输出输出到指定的文件或设备当中</td></tr> <tr><td>标准输出重定向</td> <td>命令 &gt;&gt; 文件</td> <td>以追加的方式，把命令的正确输出输出到指定的文件或设备当中</td></tr> <tr><td>错误输出重定向</td> <td>命令&gt;文件</td> <td>以覆盖的方式，把命令的错误输出输出到指定的文件或设备当中</td></tr> <tr><td>错误输出重定向</td> <td>命令&gt;&gt;文件</td> <td>以追加的方式，把命令的错误输出输出到指定的文件或设备当中</td></tr> <tr><td>正确输出和错误输出同时保存</td> <td>命令&gt;文件 2&gt;&amp;1</td> <td>以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中</td></tr> <tr><td>正确输出和错误输出同时保存</td> <td>命令&gt;文件 2&gt;&gt;&amp;1</td> <td>以追加的方式，把正确输出和错误输出都保存到同一个文件当中</td></tr> <tr><td>正确输出和错误输出同时保存</td> <td>命令&amp;&gt;文件</td> <td>以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中</td></tr> <tr><td>正确输出和错误输出同时保存</td> <td>命令&amp;&gt;&gt;文件</td> <td>以追加的方式，把正确输出和错误输出都保存到同一个文件当中</td></tr> <tr><td>正确输出和错误输出同时保存</td> <td>命令&gt;&gt;文件 1 2&gt;文件 2</td> <td>以覆盖的方式，正确的输出追加到文件 1 中，把错误输出追加到文件 2 中</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#覆盖的方式 输出到文件中</span>
<span class="token builtin class-name">echo</span> 你好 <span class="token operator">&gt;</span> hello.txt
<span class="token function">cat</span> hello.txt
<span class="token builtin class-name">echo</span> 你也好 <span class="token operator">&gt;</span> hello.txt
<span class="token function">cat</span> hello.txt

<span class="token comment">#追加的方式输入到文件</span>
<span class="token builtin class-name">echo</span> 你好 <span class="token operator">&gt;</span> hello.txt
<span class="token function">cat</span> hello.txt
<span class="token builtin class-name">echo</span> 你也好 <span class="token operator">&gt;&gt;</span> hello.txt
<span class="token function">cat</span> hello.txt

<span class="token comment">#覆盖输出错误质量到文件</span>
<span class="token function">ls</span> aa <span class="token operator">&gt;</span> error.txt <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token function">cat</span> error.txt

<span class="token comment">#追加输出错误质量到文件</span>
<span class="token function">ls</span> bb <span class="token operator">&gt;&gt;</span> error.txt <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token function">ls</span> bb <span class="token operator">&gt;&gt;</span> error.txt <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token function">cat</span> error.txt


</code></pre></div><h4 id="_1-8-2-输入重定向"><a href="#_1-8-2-输入重定向" class="header-anchor">#</a> 1.8.2 输入重定向</h4> <ul><li><code>wc</code> 命令的功能为统计指定文件中的行数、字数、字节数, 并将统计结果显示输出</li> <li>命令 <code>&lt;</code> 文件把文件做为命令的输入</li> <li>命令 <code>&lt;&lt;</code> 标识符 标识符把标识符之间内容作为命令的输入</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wc</span> <span class="token operator">&lt;</span> error.txt
<span class="token comment">#3  27 150</span>
<span class="token function">wc</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">!</span>
hello
world
<span class="token operator">!</span>
<span class="token comment">#2  2 12</span>
</code></pre></div><h3 id="_1-9-管道符号"><a href="#_1-9-管道符号" class="header-anchor">#</a> 1.9 管道符号</h3> <h4 id="_1-9-1-多命令顺序执行"><a href="#_1-9-1-多命令顺序执行" class="header-anchor">#</a> 1.9.1 多命令顺序执行</h4> <p>Js 玩家大喜，很好李姐。</p> <table><thead><tr><th>多命令执行符</th> <th>格式</th> <th>作用</th> <th>案例</th></tr></thead> <tbody><tr><td>;</td> <td>命令 1;命令 2</td> <td>多个命令执行，命令之间没有任何逻辑联系</td> <td>echo 1;echo 2;</td></tr> <tr><td>&amp;&amp;</td> <td>命令 1&amp;&amp;命令 2</td> <td>逻辑与 当命令 1 正确执行，则命令 2 才会执行 当命令 1 执行不正确，则命令 2 不会执行</td> <td>echo 1&amp;&amp;echo 2;</td></tr> <tr><td><code>||</code></td> <td><code>命令1|| 命令2</code></td> <td>逻辑或 当命令 1 执行不正确，则命令 2 才会执行 当命令 1 正确执行，则命令 2 不会执行</td> <td><code>echo 1||echo 2;</code></td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#利用;一行执行多个命令</span>
<span class="token builtin class-name">echo</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token builtin class-name">echo</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">#&amp;&amp;前面命令错误，后面命令不执行</span>
<span class="token function">ls</span> xx<span class="token operator">&amp;&amp;</span><span class="token builtin class-name">echo</span> <span class="token number">2</span>
<span class="token comment">#或命令，前面失败，后面命令继续执行</span>
<span class="token function">ls</span> xx <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token number">2</span>
</code></pre></div><h4 id="_1-9-2-管道符号"><a href="#_1-9-2-管道符号" class="header-anchor">#</a> 1.9.2 管道符号</h4> <ul><li>命令 1 的正确输出会作为命令 2 的操作对象</li> <li>命令 1|命令 2</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#命令1结果是命令2参数</span>
<span class="token function">ls</span> /etc/ <span class="token operator">|</span> <span class="token function">more</span>
</code></pre></div><h4 id="_1-9-3-通配符"><a href="#_1-9-3-通配符" class="header-anchor">#</a> 1.9.3 通配符</h4> <p>匹配文件名和目录名</p> <table><thead><tr><th>通配符</th> <th>作用</th></tr></thead> <tbody><tr><td>?</td> <td>匹配一个任意字符</td></tr> <tr><td>*</td> <td>匹配 0 个或任意字符，也就是可以匹配任意内容</td></tr> <tr><td>[]</td> <td>匹配中括号中任意一个字符</td></tr> <tr><td>[-]</td> <td>匹配中括号中任意一个字符,-代表范围</td></tr> <tr><td>[^]</td> <td>匹配不是中括号中的一个字符</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#和正则相似</span>
<span class="token punctuation">[</span><span class="token number">1</span>-10<span class="token punctuation">]</span>
</code></pre></div><h4 id="_1-9-4-其他"><a href="#_1-9-4-其他" class="header-anchor">#</a> 1.9.4 其他</h4> <table><thead><tr><th>符号</th> <th>作用</th></tr></thead> <tbody><tr><td>''</td> <td>单引号。在单引号中所有的特殊符号，如$和`都没有特殊含义</td></tr> <tr><td>&quot;&quot;</td> <td>双引号，在双引号里特殊符号都没有特殊含义，但是 $ ` \ 例外，拥有调用变量值，引用命令和转义的含义</td></tr> <tr><td>``</td> <td>反引号，扩起来的是系统命令</td></tr> <tr><td>$()</td> <td>和反引号一样</td></tr> <tr><td>#</td> <td>在 shell 脚本中，#开头的行代表注释</td></tr> <tr><td>$</td> <td>用于调用变量的值</td></tr> <tr><td>\</td> <td>转义符号</td></tr></tbody></table> <h2 id="_2-变量"><a href="#_2-变量" class="header-anchor">#</a> 2. 变量</h2> <h3 id="_2-1-变量的概念"><a href="#_2-1-变量的概念" class="header-anchor">#</a> 2.1 变量的概念</h3> <ul><li>可以变化的量</li> <li>变量必须以字母或下划线开头，名字中间只能由字母，数字和下划线组成</li> <li>变量名的长度不得超过 255 个字符</li> <li>变量名在有效范围内必须唯一</li> <li>变量默认类型都是字符串</li></ul> <h3 id="_2-2-变量的分类"><a href="#_2-2-变量的分类" class="header-anchor">#</a> 2.2 变量的分类</h3> <ul><li>字符串</li> <li>整型</li> <li>浮点型</li> <li>日期型</li></ul> <h3 id="_2-3-自定义变量"><a href="#_2-3-自定义变量" class="header-anchor">#</a> 2.3 自定义变量</h3> <ul><li>这些变量的值是自己定义的</li> <li>变量名不能为数字开头</li> <li>等号左右两边不能有空格</li></ul> <h4 id="_2-3-1-定义、输出变量"><a href="#_2-3-1-定义、输出变量" class="header-anchor">#</a> 2.3.1 定义、输出变量</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#定义变量</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;bob&quot;</span>
<span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token number">18</span>

<span class="token comment">#输出变量</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$name</span> <span class="token comment">#bob</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$age</span> <span class="token comment">#18</span>

<span class="token comment">#默认值都是字符串</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token number">3</span>
<span class="token assign-left variable">d</span><span class="token operator">=</span><span class="token variable">$a</span>+<span class="token variable">$b</span>+<span class="token variable">$c</span>
<span class="token builtin class-name">echo</span> d <span class="token comment">#1+2+3</span>

<span class="token comment">#赋值时应用变量</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$b</span>&quot;</span><span class="token number">2</span> <span class="token comment">#22</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token variable">${b}</span><span class="token number">2</span> <span class="token comment">#222</span>
</code></pre></div><h4 id="_2-3-2-set"><a href="#_2-3-2-set" class="header-anchor">#</a> 2.3.2 set</h4> <ul><li>可以理解为 get。查询系统中默认所有已经生效的变量，包括系统变量,也包括自定义变量</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">set</span> <span class="token operator">|</span> <span class="token function">grep</span> name
</code></pre></div><h4 id="_2-3-3-unset"><a href="#_2-3-3-unset" class="header-anchor">#</a> 2.3.3 unset</h4> <ul><li>删除变量</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#name变量被删除</span>
<span class="token builtin class-name">unset</span> name
</code></pre></div><h3 id="_2-4-环境变量"><a href="#_2-4-环境变量" class="header-anchor">#</a> 2.4 环境变量</h3> <ul><li>环境变量是全局变量，而自定义变量是局部变量</li> <li>自定义变量会在当前的 shell 中生效，其他窗口的 shell 不能访问，而环境变量会在当前 shell 以及其子 shell 中生效。</li> <li>这种变量主要保存的是和系统操作环境相关的数据</li> <li>变量可以自定义，但是对系统生效的环境变量名和变量作用是固定的</li></ul> <h4 id="_2-4-1-自定义环境变量"><a href="#_2-4-1-自定义环境变量" class="header-anchor">#</a> 2.4.1 自定义环境变量</h4> <p><code>export 变量名=变量值</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">env_name</span><span class="token operator">=</span>prod
<span class="token comment">#bash命令输入子shell，也可以拿到环境变量</span>
<span class="token builtin class-name">echo</span> env_name
</code></pre></div><h4 id="_2-4-2-env"><a href="#_2-4-2-env" class="header-anchor">#</a> 2.4.2 env</h4> <ul><li>仅仅用来查看环境变量，而不看到本地变量</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">env</span>
</code></pre></div><h4 id="_2-4-3-常用环境变量"><a href="#_2-4-3-常用环境变量" class="header-anchor">#</a> 2.4.3 常用环境变量</h4> <table><thead><tr><th>变量名</th> <th>含义</th> <th>示例</th></tr></thead> <tbody><tr><td>HOSTNAME</td> <td>主机名</td> <td>HOSTNAME=localhost</td></tr> <tr><td>SHELL</td> <td>当前的 shell</td> <td>SHELL=/bin/bash</td></tr> <tr><td>TERM</td> <td>终端环境</td> <td>TERM=xterm</td></tr> <tr><td>HISTSIZE</td> <td>历史命令条数</td> <td>HISTSIZE=1000</td></tr> <tr><td>SSH_CLIENT</td> <td>当前操作环境如果是用 SSH 连接的话，这里会记录客户端 IP</td> <td>SSH_CLIENT=192.168.1.100 57596 22</td></tr> <tr><td>SSH_TTY</td> <td>SSH 连接的终端</td> <td>SSH_TTY=/dev/pts/1</td></tr> <tr><td>USER</td> <td>当前登录的用户</td> <td>USER=root</td></tr></tbody></table> <h4 id="_2-4-4-path"><a href="#_2-4-4-path" class="header-anchor">#</a> 2.4.4 path</h4> <ul><li>系统搜索路径
<code>#!/bin/bash</code>linux 不识别文件类型，文件后缀只是给人看，所以文件中以注释的方式，按照!后问方式执行文件</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># echo $PATH</span>
/usr/lib/qt-3.3/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin
</code></pre></div><p>如果想把一个自定义的脚本直接可以执行，或者把这个文件拷贝到目标目录下，或者把脚本所在目录添加到环境变量中的 PATH 路径中
创建 hello.sh</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> hello.sh

<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> hello
./hello.sh

<span class="token comment">#把myshell加入环境变量</span>
/root/myshell/hello.sh
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">&quot;<span class="token environment constant">$PATH</span>&quot;</span>:/root/myshell   <span class="token comment">#临时生效</span>
hello.sh
</code></pre></div><h4 id="_2-4-5-语系环境变量"><a href="#_2-4-5-语系环境变量" class="header-anchor">#</a> 2.4.5 语系环境变量</h4> <ul><li>查询当前系统语系</li> <li>在 Linux 中通过 locale 来设置程序运行的不同语言环境，locale 由 ANSI C 提供支持。locale 的命名规则为&lt;语言&gt;_&lt;地区&gt;.&lt;字符集编码&gt;，如 zh_CN.UTF-8，zh 代表中文，CN 代表大陆地区，UTF-8 表示字符集。</li> <li>LANG: 定义系统主语系的变量</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#查询当前</span>
locale
<span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>zh_CN.UTF-8

<span class="token builtin class-name">echo</span> <span class="token environment constant">$LANG</span>

<span class="token comment">#下次开机之后我们系统环境</span>
<span class="token function">cat</span> /etc/sysconfig/i18n
</code></pre></div><h4 id="_2-4-6-中文支持"><a href="#_2-4-6-中文支持" class="header-anchor">#</a> 2.4.6 中文支持</h4> <ul><li>图形界面可以支持中文</li> <li>第三方工具比如 xshell 语系设置正确可以支持中文</li> <li>虚拟机中的纯字符界面不支持中文</li></ul> <h3 id="_2-5-位置参数变量"><a href="#_2-5-位置参数变量" class="header-anchor">#</a> 2.5 位置参数变量</h3> <ul><li>这种变量主要是用来向脚本当中传递参数或数据的,变量名不能自定义,变量作用是固定的</li></ul> <table><thead><tr><th>位置参数变量</th> <th>作用</th></tr></thead> <tbody><tr><td>$n</td> <td>n 为数字，$0代表命令本身，$1-$9代表第1到第9个参数，10以上的参数需要用大括号包含,如${10}</td></tr> <tr><td>$*</td> <td>这个变量代表命令中所有的参数，$*把所有的变看数看成一个整体</td></tr> <tr><td>$@</td> <td>这个变量也代表命令行中所有的参数，不过$@把每个参数进行区分</td></tr> <tr><td>$#</td> <td>这个变量代表命令行中所有参数的个数</td></tr></tbody></table> <ol><li>$n 演示 创建 sum.sh</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token variable">$1</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token variable">$2</span>
<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>num1<span class="token operator">+</span>num2<span class="token variable">))</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$sum</span>

:wq
<span class="token function">sh</span> sum.sh <span class="token number">1</span> <span class="token number">2</span>
</code></pre></div><ol start="2"><li>$*演示 创建 for1.sh</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$*</span>&quot;</span>
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;i=<span class="token variable">$i</span>&quot;</span>
<span class="token keyword">done</span>

:wq
<span class="token function">sh</span> for1.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
</code></pre></div><ol start="3"><li>$@演示 创建 for2.sh</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;i=<span class="token variable">$i</span>&quot;</span>
<span class="token keyword">done</span>

:wq
<span class="token function">sh</span> for2.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
</code></pre></div><ol start="4"><li>$#演示 创建 for3.sh</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$#</span>&quot;</span>
</code></pre></div><h3 id="_2-6-预定义变量"><a href="#_2-6-预定义变量" class="header-anchor">#</a> 2.6 预定义变量</h3> <ul><li>是脚本中已经定义好的变量，变量名不能自定义，变量作用也是固定的</li></ul> <table><thead><tr><th>位置参数变量</th> <th>作用</th></tr></thead> <tbody><tr><td>$?</td> <td>最后一次执行的命令的返回状态。0 表示正确执行，非 0 表示不正确执行</td></tr> <tr><td>$$</td> <td>当前进程的进程号(PID)</td></tr> <tr><td>$!</td> <td>后台运行的最后一个进程号(PID)</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token variable">$?</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$$</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$!</span>
</code></pre></div><h3 id="_2-7-read"><a href="#_2-7-read" class="header-anchor">#</a> 2.7 read</h3> <ul><li>read [选项][变量名]</li></ul> <table><thead><tr><th>选项</th> <th>含义</th></tr></thead> <tbody><tr><td>-p</td> <td>提示信息，在等待 read 输入时，输出提示信息</td></tr> <tr><td>-t</td> <td>秒数: read 命令会一直等待用户输入，使用此选项可以指定等待时间</td></tr> <tr><td>-n</td> <td>字符数，read 命令只接受指定的字符数，就会执行</td></tr> <tr><td>-s</td> <td>隐藏输入的数据，适用于机密信息的输入</td></tr></tbody></table> <p>创建 read.sh</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">read</span> -p <span class="token string">&quot;请输入用户名&quot;</span> -t <span class="token number">5</span> name
<span class="token builtin class-name">echo</span> -e <span class="token string">&quot;<span class="token entity" title="\n">\n</span>&quot;</span>
<span class="token builtin class-name">read</span> -p <span class="token string">&quot;请输入性别[男/女]&quot;</span> -n <span class="token number">1</span> gender
<span class="token builtin class-name">echo</span> -e <span class="token string">&quot;<span class="token entity" title="\n">\n</span>&quot;</span>
<span class="token builtin class-name">read</span> -p <span class="token string">&quot;请输入密码&quot;</span> -s password
<span class="token builtin class-name">echo</span> -e <span class="token string">&quot;<span class="token entity" title="\n">\n</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$name</span>,<span class="token variable">$gender</span>,<span class="token variable">$password</span>

:wq
<span class="token function">sh</span> read.sh
</code></pre></div><h2 id="_3-运算符"><a href="#_3-运算符" class="header-anchor">#</a> 3. 运算符</h2> <p>在 shell 里，变量是弱类型并且默认是字符串类型(根据值确定类型)</p> <h3 id="_3-1-declare-命令"><a href="#_3-1-declare-命令" class="header-anchor">#</a> 3.1 declare 命令</h3> <ul><li>用来声明变量类型</li> <li>declare [+/-][选项] 变量名</li></ul> <table><thead><tr><th>选项</th> <th>含义</th></tr></thead> <tbody><tr><td>-</td> <td>给变量设定类型属性</td></tr> <tr><td>+</td> <td>取消变量的类型属性</td></tr> <tr><td>-a</td> <td>将变量声明为数组类型</td></tr> <tr><td>-i</td> <td>将变量声明为整数型(integer)</td></tr> <tr><td>-x</td> <td>将变量声明为环境变量</td></tr> <tr><td>-r</td> <td>将变量声明为只读变量</td></tr> <tr><td>-p</td> <td>显示指定变量的被声明的类型</td></tr></tbody></table> <ol><li>变量类型</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 默认为字符串类型</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token variable">$a</span>+<span class="token variable">$bz</span>
<span class="token builtin class-name">echo</span> c <span class="token comment"># 1+2</span>

<span class="token comment">#定义为int类型</span>
<span class="token builtin class-name">declare</span> -i <span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token variable">$a</span>+<span class="token variable">$b</span>
<span class="token builtin class-name">echo</span> c <span class="token comment">#3</span>

<span class="token comment">#取消int类型</span>
<span class="token builtin class-name">declare</span> +i c
<span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token variable">$a</span>+<span class="token variable">$b</span>
<span class="token builtin class-name">echo</span> c

<span class="token comment">#显示变量的类型</span>
<span class="token builtin class-name">declare</span> -i c
<span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token variable">$a</span>+<span class="token variable">$b</span>
<span class="token builtin class-name">declare</span> -p c <span class="token comment"># declare -i c=&quot;3&quot;</span>

<span class="token comment">#声明为环境变量</span>
<span class="token builtin class-name">declare</span> -x <span class="token assign-left variable">aa</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token builtin class-name">set</span> <span class="token operator">|</span> <span class="token function">grep</span> aa

<span class="token comment">#声明为制度</span>
<span class="token builtin class-name">declare</span> -r c
<span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token number">1</span> <span class="token comment"># c: readonly variable</span>
</code></pre></div><ol start="2"><li>数组</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 声明为数组类型</span>
<span class="token comment"># 如果是一个整体就需要加{}，要不然打印$list[1]，就会输出1[0]</span>
<span class="token builtin class-name">declare</span> -a list
list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span>
list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token comment"># 默认只会打印第一个元素</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${list}</span> <span class="token comment"># 1</span>
<span class="token comment"># 打印第二个元素</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${list<span class="token punctuation">[</span>1<span class="token punctuation">]</span>}</span> <span class="token comment"># 2</span>
<span class="token comment">#打印全部</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${list<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span> <span class="token comment"># 1 2</span>
</code></pre></div><ol start="3"><li>声明环境变量</li></ol> <ul><li><code>export</code> 最终执行的是 <code>declare -x</code> 命令</li> <li><code>declare -p</code> 可以查看所有的类型</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">NAME</span><span class="token operator">=</span>bob
<span class="token builtin class-name">declare</span> -x <span class="token assign-left variable">NAME</span><span class="token operator">=</span>bob
</code></pre></div><ol start="4"><li>数值运算的方法</li></ol> <ul><li>只要用 declare 声明变量的时候指定类型就可以进行数值运算</li> <li>expr 或 let</li></ul> <p>号左右两侧必须有空格,否则还是整块输出</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#num1=2</span>
<span class="token comment">#num2=3</span>
<span class="token comment">#s=$(expr $num1 + $num2)</span>
<span class="token comment">#echo $s</span>
<span class="token number">5</span>

<span class="token comment">#s=$(($num1+$num2))</span>
<span class="token comment">#echo $s</span>
<span class="token number">5</span>
<span class="token comment">#s=$[$num1+$num2]</span>
<span class="token comment">#echo $s</span>
<span class="token number">5</span>

<span class="token assign-left variable">d</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$d</span>
</code></pre></div><h2 id="_4-环境变量配置文件"><a href="#_4-环境变量配置文件" class="header-anchor">#</a> 4.环境变量配置文件</h2> <h3 id="_4-1-source-命令"><a href="#_4-1-source-命令" class="header-anchor">#</a> 4.1 source 命令</h3> <ul><li>修改完配置文件后，必须注销重新登录才能生效，使用 source 命令可以不用重新登录</li> <li>source 配置文件</li> <li>. 配置文件</li></ul> <h3 id="_4-2-环境变量配置文件简介"><a href="#_4-2-环境变量配置文件简介" class="header-anchor">#</a> 4.2 环境变量配置文件简介</h3> <ul><li>PATH、HISTSIZE、PS1、HOSTNAME 等环境变量写入对应的环境变量配置文件</li> <li>环境变量配置文件中主要是定义地系统操作环境生效的系统默认环境变量，如 PATH 等 此下文件登录时起作用的环境变量</li></ul> <table><thead><tr><th>路径</th> <th>说明</th></tr></thead> <tbody><tr><td>/etc/profile</td> <td>系统变量</td></tr> <tr><td>/etc/profile.d/*.sh</td> <td>系统变量</td></tr> <tr><td>/etc/bashrc</td> <td>系统变量</td></tr> <tr><td>~/.bash_profile</td> <td>只会对当前用户生效</td></tr> <tr><td>~/.bashrc</td> <td>只会对当前用户生效</td></tr></tbody></table> <h3 id="_4-3-环境变量配置文件的功能"><a href="#_4-3-环境变量配置文件的功能" class="header-anchor">#</a> 4.3 环境变量配置文件的功能</h3> <h4 id="_4-3-1-etc-profile"><a href="#_4-3-1-etc-profile" class="header-anchor">#</a> 4.3.1 /etc/profile</h4> <p>在这里修改系统变量</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span>  /etc/profile <span class="token operator">|</span> <span class="token function">grep</span> <span class="token environment constant">USER</span>
</code></pre></div><table><thead><tr><th>变量名</th> <th>含义</th></tr></thead> <tbody><tr><td>USER</td> <td>用户名</td></tr> <tr><td>LOGNAME</td> <td>登录名</td></tr> <tr><td>MAIL</td> <td>邮箱地址</td></tr> <tr><td>PATH</td> <td>查找路径</td></tr> <tr><td>HOSTNAE</td> <td>主机名</td></tr> <tr><td>umask</td> <td>权限掩码</td></tr></tbody></table> <h4 id="_4-3-2-bash-profile"><a href="#_4-3-2-bash-profile" class="header-anchor">#</a> 4.3.2 ~/.bash_profile</h4> <ul><li>PATH 在这里修改 PATH 路径</li> <li>调用 ~/.bashrc</li></ul> <h4 id="_4-3-3-bashrc"><a href="#_4-3-3-bashrc" class="header-anchor">#</a> 4.3.3 ~/.bashrc</h4> <ul><li>配置 alias 改别名在这里</li> <li>调用 /etc/bashrc</li></ul> <h4 id="_4-3-4-etc-bashrc"><a href="#_4-3-4-etc-bashrc" class="header-anchor">#</a> 4.3.4 /etc/bashrc</h4> <ul><li>PS1 登录提示符在这里修改</li> <li>umask</li> <li>PATH 变量</li> <li>调用 /etc/profile.d/星.sh 文件</li></ul> <h4 id="_4-3-5-其它配置文件"><a href="#_4-3-5-其它配置文件" class="header-anchor">#</a> 4.3.5 其它配置文件</h4> <h5 id="_4-3-5-1-注销时生效的环境变量配置文件"><a href="#_4-3-5-1-注销时生效的环境变量配置文件" class="header-anchor">#</a> 4.3.5.1 注销时生效的环境变量配置文件</h5> <p>~/.bash_logout</p> <h5 id="_4-3-5-2-脚本历史"><a href="#_4-3-5-2-脚本历史" class="header-anchor">#</a> 4.3.5.2 脚本历史</h5> <p>当正确退出计算机的时候会历史记录会写入文件 ~/.bash_history</p> <h5 id="_4-3-5-3-shell-登录信息"><a href="#_4-3-5-3-shell-登录信息" class="header-anchor">#</a> 4.3.5.3 Shell 登录信息</h5> <p>本地终端欢迎信息 /etc/issue 远程终端欢迎信息 /etc/issue.net 不管远程还是本地都可以生效 /etc/motd</p> <table><thead><tr><th>参数</th> <th>含义</th></tr></thead> <tbody><tr><td>\d</td> <td>当前系统日期</td></tr> <tr><td>\s</td> <td>显示操作系统名称</td></tr> <tr><td>\l</td> <td>显示登录的终端号</td></tr> <tr><td>\m</td> <td>显示硬件体系结构，如 i386 等</td></tr> <tr><td>\n</td> <td>显示主机名</td></tr> <tr><td>\o</td> <td>显示域名</td></tr> <tr><td>\r</td> <td>显示内核版本</td></tr> <tr><td>\t</td> <td>显示当前系统时间</td></tr> <tr><td>\u</td> <td>显示当前登录用户的序列号</td></tr></tbody></table> <h2 id="_5-正则表达式"><a href="#_5-正则表达式" class="header-anchor">#</a> 5. 正则表达式</h2> <h3 id="_5-1-概念"><a href="#_5-1-概念" class="header-anchor">#</a> 5.1 概念</h3> <ul><li>正则表达式是用于描述字符排列和匹配模式的一种语法规则</li> <li>它主要用于字符串的模式分割、匹配查找及替换操作</li></ul> <h3 id="_5-2-通配符"><a href="#_5-2-通配符" class="header-anchor">#</a> 5.2 通配符</h3> <ul><li>通配符用来匹配符合条件的文件名，通配符是完全匹配。</li> <li>ls find 这些命令不支持正则，只能使用通配符</li></ul> <table><thead><tr><th>符号</th> <th>含义</th></tr></thead> <tbody><tr><td>?</td> <td>匹配任意一个字符</td></tr> <tr><td>*</td> <td>匹配任意多个字符</td></tr> <tr><td>[]</td> <td>匹配中括号中范围内的一个字符</td></tr></tbody></table> <h3 id="_5-3-正则表达式"><a href="#_5-3-正则表达式" class="header-anchor">#</a> 5.3 正则表达式</h3> <ul><li>正则表达式是用来在文件中匹配符合条件的字符串，是包含匹配。</li> <li>grep awk sed 等都可以支持正则表达式</li></ul> <h3 id="_5-4-元字符"><a href="#_5-4-元字符" class="header-anchor">#</a> 5.4 元字符</h3> <p><code>alias grep='grep --color=auto'</code></p> <table><thead><tr><th>元字符</th> <th>作用</th> <th>示例</th></tr></thead> <tbody><tr><td>*</td> <td>前一个字符匹配 0 次或任意多次</td> <td>grep 1* reg.txt</td></tr> <tr><td>.</td> <td>匹配除换行符外的任意一个字符</td> <td>grep . reg.txt</td></tr> <tr><td>^</td> <td>匹配行首。例如，^hello 会匹配以 hello 开头的行</td> <td>grep ^a reg.txt</td></tr> <tr><td>$</td> <td>匹配行尾。例如，hello&amp; 会匹配以 hello 结尾的行</td> <td>grep a$ reg.txt</td></tr> <tr><td>[]</td> <td>匹配屮柄号屮指定的任意一个字符，而且只匹配一个字符。 例如.[aoeiu]匹配任意一个元音字母， [0-9] 匹配任意一位数字，[a-z][0-9] 匹配由小写字母和一位数字构成的两位字符</td> <td>grep ab[bc]c reg.txt</td></tr> <tr><td>[^]</td> <td>匹配除中括号中的字符以外的任意一个字符。例如，[^0-9] 匹配任意一位非数字字符，[^a-z] 匹配任意一位非小写字母</td> <td>grep a[^fg]c reg.txt</td></tr> <tr><td>\</td> <td>转义符，用于取消特殊符号的含义</td> <td>grep \.$ reg.txt</td></tr> <tr><td>{n}</td> <td>表示其前面的字符恰好出现 n 次。例如，[0-9]{4} 匹配 4 位数字，[1][3-8][0-9]{9} 匹配手机号码</td> <td>grep &quot;a{1}&quot; reg.txt</td></tr> <tr><td>(n,}</td> <td>表示其前面的字符出现不少于 n 次。例如，[0-9]{2,} 匹配两位及以上的数字</td> <td>grep &quot;a{1,}&quot; reg.txt</td></tr> <tr><td>{n,m}</td> <td>表示其前面的字符至少出现 n 次，最多出现 m 次。例如，[a-z]{6,8} 匹配 6〜8 位的小写字母</td> <td>grep &quot;a{2,3}&quot; reg.txt</td></tr></tbody></table> <h3 id="_5-5-cut"><a href="#_5-5-cut" class="header-anchor">#</a> 5.5 cut</h3> <ul><li>cut 用来提取文本中的某一部分文本</li> <li>cut [选项] 文件名
<ul><li>-f 列号，用来指定要提取的列</li> <li>-d 分隔符，按照指定分隔符分割列,默认分隔符是 TAB 制表符</li></ul></li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> /etc/passwd
<span class="token comment">#用:分割，查询第1，7列</span>
<span class="token function">cat</span> /etc/passwd -d <span class="token builtin class-name">:</span> -f <span class="token number">1,7</span>
<span class="token comment">#显示当前系统上磁盘文件系统磁盘使用情况(disk free)</span>
<span class="token function">df</span> -h
<span class="token function">df</span> -h <span class="token operator">|</span> <span class="token function">grep</span> /dev/sda1 <span class="token operator">|</span> <span class="token function">cut</span> -f <span class="token number">5</span>
</code></pre></div><h3 id="_5-6-printf"><a href="#_5-6-printf" class="header-anchor">#</a> 5.6 printf</h3> <ul><li>按规定格式输出</li> <li>printf 输出类型，输出内容</li></ul> <table><thead><tr><th>参数</th> <th>含义</th></tr></thead> <tbody><tr><td>%ns</td> <td>输出字符串,n 是数字指代输出几个字符</td></tr> <tr><td>%ni</td> <td>输出整数,n 是指输出几个数字</td></tr> <tr><td>%m.nf</td> <td>输出浮点数,m 和 n 是数字，指代输出的整数位数和小数位数，如%6.2f 代表输出 6 位，2 位小数，4 位整数</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#格式化显示每列之间的空格(t%s)</span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%s<span class="token entity" title="\t">\t</span>%s<span class="token entity" title="\t">\t</span>%s<span class="token entity" title="\t">\t</span>%s<span class="token entity" title="\t">\t</span>%s<span class="token entity" title="\t">\t</span>%s<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">df</span> -h <span class="token operator">|</span> <span class="token function">grep</span> /dev/sda1<span class="token variable">)</span></span>
</code></pre></div><h3 id="_5-7-awk"><a href="#_5-7-awk" class="header-anchor">#</a> 5.7 awk</h3> <ul><li><p>awk '条件 1{动作 1} 条件 2{动作 2}...' 文件名</p></li> <li><p>条件(Pattern)</p> <ul><li>一般使用关系表达式作为条件</li> <li>x &gt; 10 判断变量 x 是否大于 10</li> <li>x &gt;=10 大于等于</li> <li>x &lt;=10 小于等于</li></ul></li> <li><p>动作(Action)</p></li> <li><p>格式化输出</p> <ul><li>$0 整行 $1 第一列...</li></ul></li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 打印sda1中1-6</span>
<span class="token function">df</span> -h <span class="token operator">|</span> <span class="token function">grep</span> sda1 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'print {$1,$6}'</span>
</code></pre></div><h4 id="_5-7-1-begin-end"><a href="#_5-7-1-begin-end" class="header-anchor">#</a> 5.7.1 begin end</h4> <ul><li>awk 可以正确截取制表符和空格</li> <li>begin 在所有的输出之前打印</li> <li>end 在所有的输出之后打印</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 开始-结束打印</span>
<span class="token function">vi</span> numbers.txt
i
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
:wq

<span class="token function">awk</span> <span class="token string">'BEGIN {print &quot;开始&quot;} END {print &quot;结束&quot;}'</span> numbers.txt
</code></pre></div><h4 id="_5-7-2-fs"><a href="#_5-7-2-fs" class="header-anchor">#</a> 5.7.2 FS</h4> <ul><li>Field Separator，字段分隔符</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#打印每一行的第一列 第二列   \t空格</span>
<span class="token function">awk</span> <span class="token string">'BEGIN{FS=&quot;:&quot;}{print $1&quot;\t&quot;$2}'</span> /etc/passwd
</code></pre></div><h4 id="_5-7-3-声明变量"><a href="#_5-7-3-声明变量" class="header-anchor">#</a> 5.7.3 声明变量</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#还可以打印计算numbers中每一列值的和</span>
<span class="token function">awk</span> <span class="token string">'BEGIN {sum=0} {sum=sum+$1} END {print sum}'</span> numbers.txt
</code></pre></div><h4 id="_5-7-4-多条件"><a href="#_5-7-4-多条件" class="header-anchor">#</a> 5.7.4 多条件</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> score.txt
i
张三 <span class="token number">80</span>
李四 <span class="token number">90</span>
王五 <span class="token number">70</span>

<span class="token function">awk</span> <span class="token string">'$2&gt;=90 {print $1&quot;\t优&quot;} $2&gt;=80 {print $1&quot;\t良&quot;} $2&lt;80 {print $1&quot;\t一般&quot;}'</span> score.txt
</code></pre></div><h4 id="_5-7-5-nr"><a href="#_5-7-5-nr" class="header-anchor">#</a> 5.7.5 NR</h4> <ul><li>NR,表示 awk 开始执行程序后所读取的数据行数</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#$0显示整行</span>
<span class="token function">awk</span> <span class="token string">'print NR,$0'</span> score.txt
</code></pre></div><h4 id="_5-7-6-ofs"><a href="#_5-7-6-ofs" class="header-anchor">#</a> 5.7.6 OFS</h4> <ul><li>OFS Out of Field Separator，输出字段分隔符</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> hello.txt
你好吗，我很好
:wq

<span class="token function">awk</span> <span class="token string">'BEGIN {FS=&quot;，&quot;;OFS=&quot;&gt;&quot;} END {print $1,$2,$3}'</span> hello.txt
</code></pre></div><h3 id="_5-8-sed-命令"><a href="#_5-8-sed-命令" class="header-anchor">#</a> 5.8 sed 命令</h3> <ul><li><p>sed 是一个轻量级编辑器，主要用来对数据进行选取、替换、替换和新增操作</p></li> <li><p>不会修改源文件，只会把修改内容打印，要修改的话选项加 -i</p></li> <li><p>sed [选项] '[动作]' 文件名</p></li> <li><p>所有的动作都必须用单号号括起来</p></li> <li><p>类型类似于批量 vi 操作</p></li> <li><p>选项</p> <table><thead><tr><th>参数</th> <th>含义</th> <th>实例</th></tr></thead> <tbody><tr><td>-n</td> <td>一般 sed 命令会把所有的数据都输出到屏幕上，如果加入此选项则只会把处理过的行输出到屏幕上</td> <td>sed -n '2p' score.txt</td></tr> <tr><td>-e</td> <td>允许对输入数据应用多条 sed 编辑命令 用;号分割</td> <td>sed -e 's/75/70/g;s/55/50/g' score.txt</td></tr> <tr><td>-i</td> <td>用 sed 的修改直接修改编辑的文件，而不是在屏幕上输出</td> <td>sed -i '1i newline' score.txt</td></tr></tbody></table></li> <li><p>动作</p> <table><thead><tr><th>参数</th> <th>含义</th> <th>示例</th></tr></thead> <tbody><tr><td>a</td> <td>追加，在每一行或者指定行下面添加一行或多行</td> <td>sed '1a newline' score.txt</td></tr> <tr><td>c</td> <td>行替换，用 c 后面的字符串替换掉原始整个数据行</td> <td>sed 'c newline' score.txt</td></tr> <tr><td>s</td> <td>字符串替换,用一个字符串替换另外一个字符串，格式为 &quot;行范围 s/旧字符串/新字符串/g&quot;</td> <td>sed '3s/lisi/lisisi/g' score.txt</td></tr> <tr><td>i</td> <td>插入，在当前行插入一行或多行</td> <td>sed '1i newline' score.txt</td></tr> <tr><td>d</td> <td>删除指定的行</td> <td>sed '1,2d' score.txt</td></tr> <tr><td>p</td> <td>打印,输出指定的行</td> <td>sed -n '2p' score.txt</td></tr></tbody></table></li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> sed.txt
aaa
bbb
ccc
ddd

<span class="token comment">#在第二行插入</span>
<span class="token function">sed</span> <span class="token string">'2i newline'</span> sed.txt
<span class="token comment">#替换行</span>
<span class="token function">sed</span> <span class="token string">'1c 111'</span> sed.txt
<span class="token comment">#替换第一行所有a字母 如果只替换一个 `1s/a/A/2`</span>
<span class="token function">sed</span> <span class="token string">'1s/a/A/g'</span> sed.txt
<span class="token comment">#从第二行删除到第二行</span>
<span class="token function">sed</span> <span class="token string">'2,2d'</span> sed.txt
<span class="token comment">#打印第二行</span>
<span class="token function">sed</span> <span class="token string">'2p'</span> sed.txt
</code></pre></div><h3 id="_5-9-排序命令-sort"><a href="#_5-9-排序命令-sort" class="header-anchor">#</a> 5.9 排序命令 sort</h3> <ul><li>sort [选项] 文件名</li> <li>选项
<table><thead><tr><th>选项</th> <th>含义</th> <th>示例</th></tr></thead> <tbody><tr><td>-f</td> <td>忽略大小写</td> <td>sort -f -t &quot;:&quot; -n -k 5,5 /etc/passwd</td></tr> <tr><td>-n</td> <td>以数值型进行排序，默认使用字符串顺序</td> <td>sort -t &quot;:&quot; -n -k 3,3 /etc/passwd</td></tr> <tr><td>-r</td> <td>反向排序，默认从小到大</td> <td>sort -r /etc/passwd</td></tr> <tr><td>-t</td> <td>指定分割符，默认分割符是制表符</td> <td>sort -t &quot;:&quot; -k 3,3 /etc/passwd</td></tr> <tr><td>-k n[,m]</td> <td>按照指定的字段范围排序。从第 n 个字段开始，到第 m 个字段结束，默认是到行尾</td> <td>sort -t &quot;:&quot; -k 3,3 /etc/passwd</td></tr></tbody></table></li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sort</span> -r sed.txt
</code></pre></div><h3 id="_5-10-wc"><a href="#_5-10-wc" class="header-anchor">#</a> 5.10 wc</h3> <ul><li>wc [选项] 文件名</li></ul> <table><thead><tr><th>选项</th> <th>含义</th></tr></thead> <tbody><tr><td>-l</td> <td>只统计行数</td></tr> <tr><td>-w</td> <td>只允许单词数</td></tr> <tr><td>-m</td> <td>只统计字符数</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> -l sed.txt
</code></pre></div><h2 id="_6-流程控制"><a href="#_6-流程控制" class="header-anchor">#</a> 6. 流程控制</h2> <h3 id="_6-1-条件判断"><a href="#_6-1-条件判断" class="header-anchor">#</a> 6.1 条件判断</h3> <h4 id="_6-1-1-按照文件类型进行判断"><a href="#_6-1-1-按照文件类型进行判断" class="header-anchor">#</a> 6.1.1 按照文件类型进行判断</h4> <table><thead><tr><th>选项</th> <th>含义</th></tr></thead> <tbody><tr><td>-d</td> <td>文件是否存在并且是目录</td></tr> <tr><td>-e</td> <td>文件是否存在</td></tr> <tr><td>-f</td> <td>文件是否存在并且是普通文件</td></tr> <tr><td>-b</td> <td>文件是否存在并且是块设备文件</td></tr> <tr><td>-c</td> <td>文件是否存在并且是字符设备文件</td></tr> <tr><td>-L</td> <td>文件是否存在并且是链接文件</td></tr> <tr><td>-p</td> <td>文件是否存在并且是管道文件</td></tr> <tr><td>-s</td> <td>文件是否存在并且是否为非空</td></tr> <tr><td>-S</td> <td>文件是否存在并且是套接字文件</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#判断某个文件是否存在</span>
<span class="token builtin class-name">test</span> -e hello.txt
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span>

<span class="token punctuation">[</span> -e sed.txt <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>  <span class="token builtin class-name">echo</span> <span class="token string">'存在'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">'不存在'</span>

<span class="token comment">#exist.sh</span>
<span class="token function">vi</span> exist.sh
<span class="token comment">#!/bin/bash</span>
<span class="token punctuation">[</span> -e hello.txt <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'存在'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">'不存在'</span>
<span class="token punctuation">[</span> -e sed.txt <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>  <span class="token builtin class-name">echo</span> <span class="token string">'存在'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">'不存在'</span>
:wq

<span class="token function">sh</span> exist.sh
</code></pre></div><h4 id="_6-1-2-按照文件权限进行判断"><a href="#_6-1-2-按照文件权限进行判断" class="header-anchor">#</a> 6.1.2 按照文件权限进行判断</h4> <table><thead><tr><th>选项</th> <th>含义</th></tr></thead> <tbody><tr><td>-r</td> <td>文件是否存在，并且是否拥有读权限</td></tr> <tr><td>-w</td> <td>文件是否存在，并且是否拥有写权限</td></tr> <tr><td>-x</td> <td>文件是否存在，并且是否拥有执行权限</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">test</span> -r sed.txt
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span>
</code></pre></div><h4 id="_6-1-3-两个文件间的比较"><a href="#_6-1-3-两个文件间的比较" class="header-anchor">#</a> 6.1.3 两个文件间的比较</h4> <table><thead><tr><th>选项</th> <th>含义</th></tr></thead> <tbody><tr><td>文件 1 -nt 文件 2</td> <td>判断文件 1 的修改时间是否比文件 2 的新</td></tr> <tr><td>文件 1 -ot 文件 2</td> <td>判断文件 1 的修改时间是否比文件 2 的旧</td></tr> <tr><td>文件 1 -ef 文件 2</td> <td>判断文件 1 和文件 2 的 inode 号是否一致,可用于判断硬链接</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span> numbers.txt -nt score.txt <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'新'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">'旧'</span>
</code></pre></div><h4 id="_6-1-4-两个整数间的比较"><a href="#_6-1-4-两个整数间的比较" class="header-anchor">#</a> 6.1.4 两个整数间的比较</h4> <table><thead><tr><th>选项</th> <th>含义</th></tr></thead> <tbody><tr><td>整数 1 -eq 整数 2</td> <td>判断整数 1 是否和整数 2 相等</td></tr> <tr><td>整数 1 -ne 整数 2</td> <td>判断整数 1 是否和整数 2 不相等</td></tr> <tr><td>整数 1 -gt 整数 2</td> <td>判断整数 1 是否大于整数 2</td></tr> <tr><td>整数 1 -lt 整数 2</td> <td>判断整数 1 是否小于整数 2</td></tr> <tr><td>整数 1 -ge 整数 2</td> <td>判断整数 1 是否大于等于整数 2</td></tr> <tr><td>整数 1 -le 整数 2</td> <td>判断整数 1 是否小于等于整数 2</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token punctuation">[</span> <span class="token variable">$num1</span> -eq <span class="token variable">$num2</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'相等'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">'不相等'</span>
</code></pre></div><h4 id="_6-1-5-字符串的判断"><a href="#_6-1-5-字符串的判断" class="header-anchor">#</a> 6.1.5 字符串的判断</h4> <table><thead><tr><th>选项</th> <th>含义</th></tr></thead> <tbody><tr><td>-z 字符串</td> <td>判断字否串是否为空</td></tr> <tr><td>-n 字符中</td> <td>判断字符串是否为非空</td></tr> <tr><td>字符串 1 == 字符串 2</td> <td>判断字符串 1 是否和字符串 2 相等</td></tr> <tr><td>字符串 1 != 字符串 2</td> <td>判断字符串 1 是否和字符串 2 不相等</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">name1</span><span class="token operator">=</span>a
<span class="token assign-left variable">name2</span><span class="token operator">=</span>b
<span class="token punctuation">[</span> -z <span class="token variable">$name</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'为空'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">'不为空'</span>
<span class="token punctuation">[</span> <span class="token variable">$name1</span> <span class="token operator">==</span> <span class="token variable">$name2</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">'相等'</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">'不相等'</span>
</code></pre></div><h4 id="_6-1-6-多重条件判断"><a href="#_6-1-6-多重条件判断" class="header-anchor">#</a> 6.1.6 多重条件判断</h4> <table><thead><tr><th>选项</th> <th>含义</th></tr></thead> <tbody><tr><td>判断 1 -a 判断 2</td> <td>逻辑与</td></tr> <tr><td>判断 1 -o 判断 2</td> <td>逻辑或</td></tr> <tr><td>!判断</td> <td>逻辑非</td></tr></tbody></table> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#1&gt;2||3&lt;4</span>
<span class="token punctuation">[</span> <span class="token number">1</span> -gt <span class="token number">2</span> -o <span class="token number">3</span> -lt <span class="token number">4</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> y <span class="token operator">||</span> <span class="token builtin class-name">echo</span> n
</code></pre></div><h3 id="_6-2-单分支-if-语句"><a href="#_6-2-单分支-if-语句" class="header-anchor">#</a> 6.2 单分支 if 语句</h3> <ul><li>if 语句使用 fi 结尾</li> <li>[条件判断式]就是使用 test 命令进行判断，所以中括号和条件判断式之间必须有空格</li> <li>then 后面跟符合条件之后执行的程序，可以放在[]之后，用;分隔，也可以换行，不用;</li></ul> <h4 id="_6-2-1-语法"><a href="#_6-2-1-语法" class="header-anchor">#</a> 6.2.1 语法</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span>条件判断<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
 代码体
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span>条件判断<span class="token punctuation">]</span>
<span class="token keyword">then</span>
 代码体
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token number">2</span> -ne <span class="token number">4</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span> <span class="token builtin class-name">echo</span> small<span class="token punctuation">;</span><span class="token keyword">fi</span>
</code></pre></div><h4 id="_6-2-2-判断当前用户是否是-root-用户"><a href="#_6-2-2-判断当前用户是否是-root-用户" class="header-anchor">#</a> 6.2.2 判断当前用户是否是 root 用户</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> isRoot.sh

<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">whoami</span><span class="token variable">`</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$user</span>&quot;</span> <span class="token operator">==</span> root <span class="token punctuation">]</span>
<span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> 我是管理员
<span class="token comment">#else</span>
<span class="token comment">#        echo 我不是管理员</span>
<span class="token keyword">fi</span>
:wq

<span class="token function">sh</span> isRoot.sh
</code></pre></div><h3 id="_6-3-双分支-if-语句"><a href="#_6-3-双分支-if-语句" class="header-anchor">#</a> 6.3 双分支 if 语句</h3> <h4 id="_6-3-1-语法"><a href="#_6-3-1-语法" class="header-anchor">#</a> 6.3.1 语法</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span>条件判断<span class="token punctuation">]</span>
<span class="token keyword">then</span>
 代码体1
<span class="token keyword">else</span>
 代码体2
<span class="token keyword">fi</span>
</code></pre></div><h4 id="_6-3-2-判断是否目录"><a href="#_6-3-2-判断是否目录" class="header-anchor">#</a> 6.3.2 判断是否目录</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> isDir.sh

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#读一个值赋给变量dir</span>
<span class="token builtin class-name">read</span> -t <span class="token number">10</span> -p <span class="token string">&quot;please input a filename&quot;</span> <span class="token function">dir</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -d <span class="token string">&quot;<span class="token variable">$dir</span>&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> is <span class="token function">dir</span>
<span class="token keyword">else</span>
<span class="token builtin class-name">echo</span> not <span class="token function">dir</span>
<span class="token keyword">fi</span>
</code></pre></div><h3 id="_6-4-多分支-if-语句"><a href="#_6-4-多分支-if-语句" class="header-anchor">#</a> 6.4 多分支 if 语句</h3> <h4 id="_6-4-1-语法"><a href="#_6-4-1-语法" class="header-anchor">#</a> 6.4.1 语法</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span>条件判断1<span class="token punctuation">]</span>
<span class="token keyword">then</span>
 代码体1
<span class="token keyword">elif</span> <span class="token punctuation">[</span>条件判断2<span class="token punctuation">]</span>
 代码体2
<span class="token keyword">else</span>
 代码体3
<span class="token keyword">fi</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> grade.sh

<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">read</span> -p <span class="token string">&quot;please input a grade&quot;</span> grade
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$grade</span>&quot;</span> -gt <span class="token number">90</span>  <span class="token punctuation">]</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> 优
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$grade</span>&quot;</span> -gt <span class="token number">80</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> 良
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$grade</span>&quot;</span> -lt <span class="token number">80</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> 差
<span class="token keyword">fi</span>
</code></pre></div><h3 id="_6-5-case-语句"><a href="#_6-5-case-语句" class="header-anchor">#</a> 6.5 case 语句</h3> <ul><li>case 和 if 都是多分支判断语句,if 能判断多个条件,case 只能判断一个条件</li></ul> <h4 id="_6-5-1-语法"><a href="#_6-5-1-语法" class="header-anchor">#</a> 6.5.1 语法</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">case</span> 变量名 <span class="token keyword">in</span>
值1<span class="token punctuation">)</span>
  代码块1
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
值2<span class="token punctuation">)</span>
  代码块2
 <span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
  代码块3
 <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> case.sh
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">read</span> -p <span class="token string">&quot;yes or no?&quot;</span> -t <span class="token number">30</span> choose
<span class="token keyword">case</span> <span class="token variable">$choose</span> <span class="token keyword">in</span>
  <span class="token string">&quot;yes&quot;</span><span class="token punctuation">)</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'yes'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;no&quot;</span>
   <span class="token punctuation">;</span><span class="token punctuation">;</span>
  *<span class="token punctuation">)</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$choose</span>
   <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><h3 id="_6-6-for-循环"><a href="#_6-6-for-循环" class="header-anchor">#</a> 6.6 for 循环</h3> <h4 id="_6-6-1-语法"><a href="#_6-6-1-语法" class="header-anchor">#</a> 6.6.1 语法</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">for</span> 变量 <span class="token keyword">in</span> 值1 值2 值3
<span class="token keyword">do</span>
代码块
<span class="token keyword">done</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> enum.sh

<span class="token comment">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
<span class="token keyword">do</span>
 <span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>


<span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>
</code></pre></div><h3 id="_6-7-while-循环"><a href="#_6-7-while-循环" class="header-anchor">#</a> 6.7 while 循环</h3> <ul><li>while 循环是不定循环，也称为条件循环，只要条件判断成立，就会一直继续</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">while</span> <span class="token punctuation">[</span>条件判断式<span class="token punctuation">]</span>
<span class="token keyword">do</span>
 代码块
<span class="token keyword">done</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> while.sh
<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">ret</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> -le <span class="token number">100</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
<span class="token assign-left variable">ret</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$ret<span class="token operator">+</span>$i<span class="token variable">))</span></span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$i<span class="token operator">+</span><span class="token number">1</span><span class="token variable">))</span></span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$ret</span>
</code></pre></div><h3 id="_6-8-until-循环"><a href="#_6-8-until-循环" class="header-anchor">#</a> 6.8 until 循环</h3> <ul><li>直到条件不成立停止</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">result</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">until</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span>
 <span class="token keyword">do</span>
   <span class="token assign-left variable">result</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$result<span class="token operator">+</span>i<span class="token variable">))</span></span>
   <span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$i<span class="token operator">+</span><span class="token number">1</span><span class="token variable">))</span></span>
 <span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$result</span>
</code></pre></div><h2 id="_7-函数"><a href="#_7-函数" class="header-anchor">#</a> 7. 函数</h2> <ul><li>linux shell 可以用户定义函数，然后在 shell 脚本中可以随便调用</li> <li>可以带 function fun() 定义，也可以直接 fun() 定义,不带任何参数</li> <li>调用函数不需要加()</li></ul> <h3 id="_7-1-简单函数"><a href="#_7-1-简单函数" class="header-anchor">#</a> 7.1 简单函数</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#[ function ]可有可无 调用直接函数名</span>
<span class="token punctuation">[</span> <span class="token keyword">function</span> <span class="token punctuation">]</span> funcname <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">{</span>
  action<span class="token punctuation">;</span>
  <span class="token punctuation">[</span>return int<span class="token punctuation">;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">function</span> <span class="token function-name function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin class-name">echo</span> start
<span class="token punctuation">}</span>
start
</code></pre></div><h3 id="_7-2-返回值"><a href="#_7-2-返回值" class="header-anchor">#</a> 7.2 返回值</h3> <ul><li>参数返回，可以显示加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#传参</span>
<span class="token keyword">function</span> <span class="token function-name function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin class-name">let</span> <span class="token assign-left variable">ret</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$<span class="token number">1</span><span class="token operator">+</span>$<span class="token number">2</span><span class="token variable">))</span></span>
  <span class="token builtin class-name">return</span> <span class="token variable">$ret</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span> <span class="token number">1</span> <span class="token number">2</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span>
</code></pre></div><h3 id="_7-3-参数说明"><a href="#_7-3-参数说明" class="header-anchor">#</a> 7.3 参数说明</h3> <table><thead><tr><th>参数</th> <th>含义</th></tr></thead> <tbody><tr><td>$#</td> <td>传递到脚本的参数个数</td></tr> <tr><td>$*</td> <td>以一个单字符串显示所有向脚本传递的参数</td></tr> <tr><td>$@</td> <td>与$*相同，但是使用时加引号，并在引号中返回每个参数</td></tr> <tr><td>$$</td> <td>脚本运行的当前进程 ID 号</td></tr> <tr><td>$!</td> <td>后台运行的最后一个进程的 ID 号</td></tr> <tr><td>$-</td> <td>显示 Shell 使用的当前选项，与 set 命令功能相同</td></tr> <tr><td>$?</td> <td>显示最后命令的退出状态。0 表示没有错误，其他任何值表明有错误</td></tr></tbody></table> <h2 id="_8-shell-实战"><a href="#_8-shell-实战" class="header-anchor">#</a> 8. shell 实战</h2> <h3 id="_8-1-注意事项"><a href="#_8-1-注意事项" class="header-anchor">#</a> 8.1 注意事项</h3> <ul><li>开头加解释器: #/bin/bash 和注释说明</li> <li>命名建议规则: 变量名大写、局部变量小写，函数名小写，名字体现出实际作用</li> <li>默认变量是全局的，在函数中变量 local 指定为局部变量，避免污染其它作用域</li> <li>set -e 遇到执行非 0 时退出脚本, set -x 打印执行过程</li> <li>写脚本一定要先测试再上生产环境</li></ul> <h3 id="_8-2-检查主机存活状态"><a href="#_8-2-检查主机存活状态" class="header-anchor">#</a> 8.2 检查主机存活状态</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> ip.sh
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">ip</span> <span class="token keyword">in</span> <span class="token variable">$@</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token keyword">if</span> <span class="token function">ping</span> -c <span class="token number">1</span> <span class="token variable">$ip</span> <span class="token operator">&amp;&gt;</span>/dev/null<span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token comment"># ping -c 1 拼一次</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$ip</span> is ok&quot;</span>
  <span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$ip</span> is wrong!&quot;</span>
  <span class="token keyword">fi</span>
<span class="token keyword">done</span>

<span class="token function">sh</span> ip.sh <span class="token number">192.168</span>.174.129
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/FE_OPS/linux/authorization/" class="prev">
        五、文件权限
      </a></span> <span class="next"><a href="/FE_OPS/linux/install/">
        七、install
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/FE_OPS/assets/js/app.13330be1.js" defer></script><script src="/FE_OPS/assets/js/2.caa8c1e8.js" defer></script><script src="/FE_OPS/assets/js/16.51bd5318.js" defer></script>
  </body>
</html>
